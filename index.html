<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Doctor Appointment</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#ffe6eb,#fff);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
  overflow:hidden;
}

.app-container{
  width:100%;
  max-width:420px;
  text-align:center;
  padding:20px;
}

/* Floating Hearts */
.hearts{
position:fixed;
width:100%;
height:100%;
pointer-events:none;
z-index:-1;
}
.hearts span{
position:absolute;
bottom:-50px;
font-size:24px;
opacity:0.7;
animation:floatUp 10s linear infinite;
}
.hearts span:nth-child(1){left:5%;}
.hearts span:nth-child(2){left:20%;animation-delay:2s;}
.hearts span:nth-child(3){left:80%;animation-delay:4s;}
.hearts span:nth-child(4){left:95%;animation-delay:1s;}
.hearts span:nth-child(5){left:40%;animation-delay:3s;}
.hearts span:nth-child(6){left:60%;animation-delay:5s;}

@keyframes floatUp{
0%{transform:translateY(0);opacity:0;}
20%{opacity:1;}
100%{transform:translateY(-110vh);opacity:0;}
}

/* Screens */
.screen{display:none;}
.active{display:block;}

button{
padding:12px 20px;
margin:10px;
border:none;
border-radius:25px;
font-size:16px;
cursor:pointer;
}

.primary{background:#ff4d6d;color:white;}
.secondary{background:#ccc;}

.blink{animation:blink 1s infinite;}
@keyframes blink{50%{opacity:0.4;}}

.shake{animation:shake 0.3s;}
@keyframes shake{25%{transform:translateX(-5px);}50%{transform:translateX(5px);}}

.heartbeat{animation:heartbeat 1.2s infinite;}
@keyframes heartbeat{25%{transform:scale(1.1);}}

textarea{
width:90%;
height:80px;
border-radius:10px;
padding:10px;
font-size:16px; /* prevents iPhone zoom */
}

.card{
background:white;
padding:15px;
border-radius:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
text-align:left;
margin:20px auto;
font-size:14px;
}

.signature{
font-family:'Pacifico', cursive;
font-size:18px;
}

/* Gift */
.gift{
font-size:80px;
cursor:pointer;
animation:giftBeat 1.2s infinite;
}
@keyframes giftBeat{
0% {transform:scale(1);}
20% {transform:scale(1.15);}
40% {transform:scale(1);}
60% {transform:scale(1.12);}
80% {transform:scale(1);}
100% {transform:scale(1);}
}

.surprise-text{
font-size:30px;
color:#ff4d6d;
display:none;
animation:pop 0.6s ease;
}
@keyframes pop{
0%{transform:scale(0);}
100%{transform:scale(1);}
}

.flash-note{
color:#ff4d6d;
font-weight:bold;
}
</style>
</head>

<body>

<div class="hearts">
<span>ğŸ’–</span><span>â¤ï¸</span><span>ğŸ’—</span>
<span>ğŸ’“</span><span>ğŸ’</span><span>ğŸ’•</span>
</div>

<div class="app-container">

<div class="screen active" id="s1">
<h2>Hello Dr. Nicks ğŸ‘©â€âš•ï¸ ğŸ¦·âœ¨<h2>
<p>Hope your smile is as bright as always ğŸ™‚</p>
<button class="primary blink" onclick="next(2)">Next</button>
</div>

<div class="screen" id="s2">
<h3>New Appointment ğŸš¨</h3>
<p>Patient Name: <b>Arbu ğŸ¤µ</b></p>
<button class="secondary" onclick="reject(this)">Reject</button>
<button class="primary" onclick="next(3)">Accept</button>
</div>

<div class="screen" id="s3">
<h3>Patient Symptoms</h3>
<p>
ğŸ’” Broken Heart<br>
ğŸ˜´ Sleepless Nights<br>
ğŸ“± Smiling at phone randomly<br>
ğŸ˜” Feels incomplete when you donâ€™t talk
</p>
<button class="secondary" onclick="reject(this)">No</button>
<button class="primary" onclick="next(4)">Yes</button>
</div>

<div class="screen" id="s4">
<h3>Prescription Choice</h3>
<button class="secondary" onclick="medicine()">ğŸ’Š Medicines</button>
<button class="primary heartbeat" onclick="chooseLove()">â¤ï¸ Love</button>
</div>

<div class="screen" id="s5">
<h3>Any advice for the patient?</h3>
<textarea id="advice"></textarea>
<button class="primary" onclick="next(6)">Done</button>
</div>

<div class="screen" id="s6">
<h3>Would you be Arbu's Valentine? ğŸ’–</h3>
<button class="secondary" onclick="valentineChoice(false)">No</button>
<button class="primary" onclick="valentineChoice(true)">Yes</button>
</div>

<div class="screen" id="s7">
<h3>What do you like about Arbu? ğŸ˜Š</h3>
<textarea id="likes"></textarea>
<button class="primary" onclick="next(8)">Next</button>
</div>

<div class="screen" id="s8">
<h3>What do you dislike about Arbu? ğŸ˜¢</h3>
<textarea id="dislikes"></textarea>
<button class="primary" onclick="showGift()">Finish</button>
</div>

<div class="screen" id="giftScreen">
<h2>ğŸ€ Tap the gift to reveal your surprise ğŸ€</h2>
<div class="gift" onclick="openGift()">ğŸ</div>
<div class="surprise-text" id="surpriseText">SURPRISE! ğŸ‰</div>

<div id="guessSection" style="display:none;">
<p>Please guess what could be the surprise? ğŸ¤­</p>
<textarea id="guess"></textarea>
<button class="primary" onclick="finish()">Continue</button>
</div>
</div>

<div class="screen" id="final">
<h3 id="finalMsg"></h3>

<div class="card" id="prescriptionCard">
<b>ğŸ¦· Dental Prescription</b><br><br>
<b>Doctor:</b> Dr. Nicks<br>
<b>Patient:</b> Arbu<br><br>

<b>Diagnosis:</b><br>
Broken Heart & Sleepless Nights<br><br>

<b>Prescribed:</b><br>
<span id="prescription"></span><br><br>

<b>Advice:</b><br>
<span id="finalAdvice"></span><br><br>

<b>Nicks likes:</b><br>
<span id="likesFinal"></span><br><br>

<b>Nicks dislikes:</b><br>
<span id="dislikesFinal"></span><br><br>

<b>Nicks guess:</b><br>
<span id="guessFinal"></span><br><br>

<b>Status:</b> <span id="status"></span><br><br>

<span class="signature">Dr. Nicks ğŸ’–</span>
</div>

<p class="flash-note">
Share the screenshot with Arbu, to reveal your gift.<br>
For memories download the prescription ğŸ™‚
</p>

<button class="primary" onclick="saveImage()">Download Prescription</button>
</div>

</div>

<script>
let medicineCount=0;
let prescribed="";
let isValentine=false;

function next(n){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById('s'+n).classList.add('active');
}

function reject(btn){
btn.classList.add('shake');
setTimeout(()=>btn.classList.remove('shake'),300);
}

function medicine(){
medicineCount++;
if(medicineCount<2){alert("Are you really sure?");}
else{prescribed="ğŸ’Š Medicines";next(5);}
}

function chooseLove(){prescribed="â¤ï¸ Love";next(5);}
function valentineChoice(choice){isValentine=choice;next(7);}

function showGift(){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById('giftScreen').classList.add('active');
}

function openGift(){
document.getElementById('surpriseText').style.display="block";
document.getElementById('guessSection').style.display="block";
}

function finish(){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById('final').classList.add('active');

document.getElementById('prescription').innerText=prescribed;
document.getElementById('finalAdvice').innerText=document.getElementById('advice').value;
document.getElementById('likesFinal').innerText=document.getElementById('likes').value;
document.getElementById('dislikesFinal').innerText=document.getElementById('dislikes').value;

let guess=document.getElementById('guess').value.trim();
if(guess===""){guess="She needs some more time to understand you";}
document.getElementById('guessFinal').innerText=guess;

if(isValentine){
document.getElementById('finalMsg').innerText="ğŸ‰ Congratulations Dr. Nicks ğŸ‘©â€âš•ï¸! You healed Arbu â¤ï¸";
document.getElementById('status').innerText="âœ” Healed";
}else{
document.getElementById('finalMsg').innerText="Thank you Doctor ğŸŒ¸";
document.getElementById('status').innerText="Needs more time to heal ğŸ™";
}
}

function saveImage(){
html2canvas(document.getElementById("prescriptionCard")).then(canvas=>{
const link=document.createElement("a");
link.download="Arbu_Prescription.png";
link.href=canvas.toDataURL();
link.click();
});
}
</script>

</body>
</html>
