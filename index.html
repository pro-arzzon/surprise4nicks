<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Doctor Appointment</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ffe6eb, #fff);
  text-align: center;
  padding: 20px;
}

.screen { display:none; max-width:420px; margin:auto; }
.active { display:block; }

button {
  padding:12px 20px;
  margin:10px;
  border:none;
  border-radius:25px;
  font-size:16px;
  cursor:pointer;
}

.primary { background:#ff4d6d; color:white; }
.secondary { background:#ccc; }

.blink { animation:blink 1s infinite; }
@keyframes blink { 50% {opacity:0.4;} }

.shake { animation:shake 0.3s; }
@keyframes shake {
  25% {transform:translateX(-5px);}
  50% {transform:translateX(5px);}
}

.heartbeat { animation:heartbeat 1.2s infinite; }
@keyframes heartbeat { 25% { transform: scale(1.1); } }

textarea {
  width:90%;
  height:80px;
  border-radius:10px;
  padding:10px;
}

.card {
  background:white;
  padding:15px;
  border-radius:15px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  text-align:left;
  margin:20px auto;
  font-size:14px;
}

.signature {
  font-family:'Pacifico', cursive;
  font-size:18px;
}

.flash-note {
  color:#ff4d6d;
  font-weight:bold;
  animation:flash 1s infinite;
}

@keyframes flash { 50% { opacity:0.2; } }
</style>
</head>

<body>

<!-- Screen 1 -->
<div class="screen active" id="s1">
<h2>Hello Dr. Nicks ğŸ¦·âœ¨</h2>
<p>Hope your smile is as bright as always</p>
<button class="primary blink" onclick="next(2)">Next</button>
</div>

<!-- Screen 2 -->
<div class="screen" id="s2">
<h3>New Appointment ğŸš¨</h3>
<p>Patient Name: <b>Arbu</b></p>
<button class="secondary" onclick="reject(this)">Reject</button>
<button class="primary" onclick="next(3)">Accept</button>
</div>

<!-- Screen 3 -->
<div class="screen" id="s3">
<h3>Patient Symptoms</h3>
<p>
ğŸ’” Broken Heart <br>
ğŸ˜´ Sleepless Nights <br>
ğŸ“± Smiling at phone randomly <br>
ğŸ˜” Feels incomplete on days when conversations with you are missing
</p>
<p>Can you treat him?</p>
<button class="secondary" onclick="reject(this)">No</button>
<button class="primary" onclick="next(4)">Yes</button>
</div>

<!-- Screen 4 -->
<div class="screen" id="s4">
<h3>Prescription Choice</h3>
<button class="secondary" onclick="medicine()">ğŸ’Š Medicines</button>
<button class="primary heartbeat" onclick="chooseLove()">â¤ï¸ Love</button>
</div>

<!-- Screen 5 -->
<div class="screen" id="s5">
<h3>Any advice for the patient?</h3>
<textarea id="advice" placeholder="Type something sweet..."></textarea><br>
<button class="primary" onclick="next(6)">Done</button>
</div>

<!-- Screen 6 -->
<div class="screen" id="s6">
<h3>Would you be Arbu's Valentine? ğŸ’–</h3>
<button class="secondary" onclick="finish(false)">No</button>
<button class="primary" onclick="finish(true)">Yes</button>
</div>

<!-- Final -->
<div class="screen" id="s7">

<h3 id="finalMsg"></h3>

<div class="card" id="prescriptionCard">
<b>ğŸ¦· Dental Prescription</b><br><br>

<b>Doctor:</b> Dr. Nicks<br>
<b>Patient:</b> Arbu<br><br>

<b>Diagnosis:</b><br>
Broken Heart & Sleepless Nights<br><br>

<b>Prescribed:</b><br>
<span id="prescription"></span><br><br>

<b>Advice:</b><br>
<span id="finalAdvice"></span><br><br>

<b>Duration:</b> Lifetime<br>
<b>Status:</b> <span id="status"></span><br><br>

<span class="signature">Dr. Nicks ğŸ’–</span>
</div>

<p class="flash-note">
ğŸ“¸ Share the screenshot of the prescription to Arbu or download it below and share
</p>

<button class="primary" onclick="saveImage()">Download Prescription</button>

</div>

<script>
let medicineCount = 0;
let prescribed = "";

function next(n){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById('s'+n).classList.add('active');
}

function reject(btn){
btn.classList.add('shake');
setTimeout(()=>btn.classList.remove('shake'),300);
}

function medicine(){
medicineCount++;
if(medicineCount<2){
alert("Are you really sure? This condition looks emotional ğŸ˜„");
}else{
prescribed="ğŸ’Š Medicines";
next(5);
}
}

function chooseLove(){
prescribed="â¤ï¸ Love";
next(5);
}

function finish(valentine){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById('s7').classList.add('active');

document.getElementById('prescription').innerText = prescribed;

document.getElementById('finalAdvice').innerText =
document.getElementById('advice').value || "Smile more ğŸ˜Š";

if(valentine){
document.getElementById('finalMsg').innerText =
"ğŸ‰ Congratulations Dr. Nicks! You healed Arbu â¤ï¸";
document.getElementById('status').innerText = "âœ” Healed";
}else{
document.getElementById('finalMsg').innerText =
"Thank you Doctor ğŸŒ¸";
document.getElementById('status').innerText =
"Needs more time to heal ğŸ™";
}
}

function saveImage(){
html2canvas(document.getElementById("prescriptionCard")).then(canvas=>{
const link=document.createElement("a");
link.download="Arbu_Prescription.png";
link.href=canvas.toDataURL();
link.click();
});
}
</script>

</body>
</html>
